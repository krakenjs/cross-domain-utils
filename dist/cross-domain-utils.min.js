!function(n,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("crossDomainUtils",[],r):"object"==typeof exports?exports.crossDomainUtils=r():n.crossDomainUtils=r()}("undefined"!=typeof self?self:this,function(){return function(n){var r={};function t(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return n[e].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=n,t.c=r,t.d=function(n,r,e){t.o(n,r)||Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:e})},t.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(r,"a",r),r},t.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},t.p="",t(t.s=0)}([function(n,r,t){"use strict";function e(n){return"[object RegExp]"===Object.prototype.toString.call(n)}Object.defineProperty(r,"__esModule",{value:!0});var o={MOCK:"mock:",FILE:"file:",ABOUT:"about:"},i="*",u={IFRAME:"iframe",POPUP:"popup"},c="Call was rejected by callee.\r\n";function f(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).location.protocol===o.FILE}function a(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).location.protocol===o.ABOUT}function d(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if(n)try{if(n.parent&&n.parent!==n)return n.parent}catch(n){}}function l(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if(n&&!d(n))try{return n.opener}catch(n){}}function s(n){try{return n&&n.location&&n.location.href,!0}catch(n){}return!1}function w(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,r=n.location;if(!r)throw new Error("Can not read window location");var t=r.protocol;if(!t)throw new Error("Can not read window protocol");if(t===o.FILE)return o.FILE+"//";if(t===o.ABOUT){var e=d(n);return e&&s(e)?w(e):o.ABOUT+"//"}var i=r.host;if(!i)throw new Error("Can not read window host");return t+"//"+i}function h(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,r=w(n);return r&&n.mockDomain&&0===n.mockDomain.indexOf(o.MOCK)?n.mockDomain:r}function v(n){try{if(!n.location.href)return!0;if("about:blank"===n.location.href)return!0}catch(n){}return!1}function p(n){try{if(n===window)return!0}catch(n){}try{var r=Object.getOwnPropertyDescriptor(n,"location");if(r&&!1===r.enumerable)return!1}catch(n){}try{if(a(n)&&s(n))return!0}catch(n){}try{if(w(n)===w(window))return!0}catch(n){}return!1}function m(n){if(!p(n))return!1;try{if(n===window)return!0;if(a(n)&&s(n))return!0;if(h(window)===h(n))return!0}catch(n){}return!1}function g(n){if(!m(n))throw new Error("Expected window to be same domain");return n}function y(n){var r=[];try{for(;n.parent!==n;)r.push(n.parent),n=n.parent}catch(n){}return r}function O(n,r){if(!n||!r)return!1;var t=d(r);return t?t===n:-1!==y(r).indexOf(n)}function A(n){var r=[],t=void 0;try{t=n.frames}catch(r){t=n}var e=void 0;try{e=t.length}catch(n){}if(0===e)return r;if(e){for(var o=0;o<e;o++){var i=void 0;try{i=t[o]}catch(n){continue}r.push(i)}return r}for(var u=0;u<100;u++){var c=void 0;try{c=t[u]}catch(n){return r}if(!c)return r;r.push(c)}return r}function D(n){for(var r=[],t=0,e=A(n),o=null==e?0:e.length;t<o;t++){var i=e[t];r.push(i);for(var u=0,c=D(i),f=null==c?0:c.length;u<f;u++){var a=c[u];r.push(a)}}return r}function W(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;try{if(n.top)return n.top}catch(n){}if(d(n)===n)return n;try{if(O(window,n)&&window.top)return window.top}catch(n){}try{if(O(n,window)&&window.top)return window.top}catch(n){}for(var r=0,t=D(n),e=null==t?0:t.length;r<e;r++){var o=t[r];try{if(o.top)return o.top}catch(n){}if(d(o)===o)return o}}function F(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return l(W(n)||n)}function b(){var n=F(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window);return n?b(n):top}function x(n){var r=W(n);if(!r)throw new Error("Can not determine top window");var t=[].concat(D(r),[r]);return-1===t.indexOf(n)&&(t=[].concat(t,[n],D(n))),t}function E(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,r=x(n),t=F(n);return t?[].concat(E(t),r):r}function P(n){return n===W(n)}function _(n){if(!n.contentWindow)return!0;if(!n.parentNode)return!0;var r=n.ownerDocument;if(r&&r.documentElement&&!r.documentElement.contains(n)){for(var t=n;t.parentNode&&t.parentNode!==t;)t=t.parentNode;if(!t.host||!r.documentElement.contains(t.host))return!0}return!1}var T=[],C=[];function k(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{if(n===window)return!1}catch(n){return!0}try{if(!n)return!0}catch(n){return!0}try{if(n.closed)return!0}catch(n){return!n||n.message!==c}if(r&&m(n))try{if(n.mockclosed)return!0}catch(n){}try{if(!n.parent||!n.top)return!0}catch(n){}var t=function(n,r){for(var t=0;t<n.length;t++)try{if(n[t]===r)return t}catch(n){}return-1}(T,n);if(-1!==t){var e=C[t];if(e&&_(e))return!0}return!1}function j(n){if(function(){for(var n=0;n<T.length;n++){var r=!1;try{r=T[n].closed}catch(n){}r&&(C.splice(n,1),T.splice(n,1))}}(),n&&n.contentWindow)try{T.push(n.contentWindow),C.push(n)}catch(n){}}function S(n){return(n=n||window).navigator.mockUserAgent||n.navigator.userAgent}function B(n,r){for(var t=A(n),e=0,o=null==t?0:t.length;e<o;e++){var i=t[e];try{if(m(i)&&i.name===r&&-1!==t.indexOf(i))return i}catch(n){}}try{if(-1!==t.indexOf(n.frames[r]))return n.frames[r]}catch(n){}try{if(-1!==t.indexOf(n[r]))return n[r]}catch(n){}}function N(n,r){var t=B(n,r);if(t)return t;for(var e=0,o=A(n),i=null==o?0:o.length;e<i;e++){var u=N(o[e],r);if(u)return u}}function U(n,r){var t;return(t=B(n,r))?t:N(W(n)||n,r)}function I(n,r){var t=d(r);if(t)return t===n;for(var e=0,o=A(n),i=null==o?0:o.length;e<i;e++)if(o[e]===r)return!0;return!1}function M(n,r){return n===l(r)}function L(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return l(n=n||window)||d(n)||void 0}function R(n){for(var r=[],t=n;t;)(t=L(t))&&r.push(t);return r}function K(n,r){var t=L(r);if(t)return t===n;if(r===n)return!1;if(W(r)===r)return!1;for(var e=0,o=A(n),i=null==o?0:o.length;e<i;e++)if(o[e]===r)return!0;return!1}function J(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return Boolean(l(n))}function Y(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return Boolean(d(n))}function q(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return Boolean(!Y(n)&&!J(n))}function z(n,r){for(var t=0,e=null==n?0:n.length;t<e;t++)for(var o=n[t],i=0,u=null==r?0:r.length;i<u;i++)if(o===r[i])return!0;return!1}function G(){for(var n=0,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;r;)(r=d(r))&&(n+=1);return n}function H(n){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=n,e=0;e<r;e++){if(!t)return;t=d(t)}return t}function Q(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return H(n,G(n)-r)}function V(n,r){var t=W(n)||n,e=W(r)||r;try{if(t&&e)return t===e}catch(n){}var o=x(n),i=x(r);if(z(o,i))return!0;var u=l(t),c=l(e);return!(u&&z(x(u),i)||(c&&z(x(c),o),1))}function X(n,r){if("string"==typeof n){if("string"==typeof r)return n===i||r===n;if(e(r))return!1;if(Array.isArray(r))return!1}return e(n)?e(r)?n.toString()===r.toString():!Array.isArray(r)&&Boolean(r.match(n)):!!Array.isArray(n)&&(Array.isArray(r)?JSON.stringify(n)===JSON.stringify(r):!e(r)&&n.some(function(n){return X(n,r)}))}function Z(n){return Array.isArray(n)?"("+n.join(" | ")+")":e(n)?"RegExp("+n.toString():n.toString()}function $(n){return n.match(/^(https?|mock|file):\/\//)?n.split("/").slice(0,3).join("/"):h()}function nn(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,o=void 0;return function i(){if(k(n))return o&&clearTimeout(o),r();e<=0?clearTimeout(o):(e-=t,o=setTimeout(i,t))}(),{cancel:function(){o&&clearTimeout(o)}}}function rn(n){try{if(n===window)return!0}catch(n){if(n&&n.message===c)return!0}try{if("[object Window]"===Object.prototype.toString.call(n))return!0}catch(n){if(n&&n.message===c)return!0}try{if(window.Window&&n instanceof window.Window)return!0}catch(n){if(n&&n.message===c)return!0}try{if(n&&n.self===n)return!0}catch(n){if(n&&n.message===c)return!0}try{if(n&&n.parent===n)return!0}catch(n){if(n&&n.message===c)return!0}try{if(n&&n.top===n)return!0}catch(n){if(n&&n.message===c)return!0}try{if(n&&"__unlikely_value__"===n.__cross_domain_utils_window_check__)return!1}catch(n){return!0}return!1}function tn(){return"undefined"!=typeof window&&void 0!==window.location}function en(n){return!!tn()&&h()===n}function on(n){return 0===n.indexOf(o.MOCK)}function un(n){if(!on($(n)))return n;throw new Error("Mock urls not supported out of test mode")}function cn(n){try{n.close()}catch(n){}}function fn(n){if(m(n))return g(n).frameElement;for(var r=0,t=document.querySelectorAll("iframe"),e=null==t?0:t.length;r<e;r++){var o=t[r];if(o&&o.contentWindow&&o.contentWindow===n)return o}}t.d(r,"isFileProtocol",function(){return f}),t.d(r,"isAboutProtocol",function(){return a}),t.d(r,"getParent",function(){return d}),t.d(r,"getOpener",function(){return l}),t.d(r,"canReadFromWindow",function(){return s}),t.d(r,"getActualDomain",function(){return w}),t.d(r,"getDomain",function(){return h}),t.d(r,"isBlankDomain",function(){return v}),t.d(r,"isActuallySameDomain",function(){return p}),t.d(r,"isSameDomain",function(){return m}),t.d(r,"assertSameDomain",function(){return g}),t.d(r,"getParents",function(){return y}),t.d(r,"isAncestorParent",function(){return O}),t.d(r,"getFrames",function(){return A}),t.d(r,"getAllChildFrames",function(){return D}),t.d(r,"getTop",function(){return W}),t.d(r,"getNextOpener",function(){return F}),t.d(r,"getUltimateTop",function(){return b}),t.d(r,"getAllFramesInWindow",function(){return x}),t.d(r,"getAllWindows",function(){return E}),t.d(r,"isTop",function(){return P}),t.d(r,"isFrameWindowClosed",function(){return _}),t.d(r,"isWindowClosed",function(){return k}),t.d(r,"linkFrameWindow",function(){return j}),t.d(r,"getUserAgent",function(){return S}),t.d(r,"getFrameByName",function(){return B}),t.d(r,"findChildFrameByName",function(){return N}),t.d(r,"findFrameByName",function(){return U}),t.d(r,"isParent",function(){return I}),t.d(r,"isOpener",function(){return M}),t.d(r,"getAncestor",function(){return L}),t.d(r,"getAncestors",function(){return R}),t.d(r,"isAncestor",function(){return K}),t.d(r,"isPopup",function(){return J}),t.d(r,"isIframe",function(){return Y}),t.d(r,"isFullpage",function(){return q}),t.d(r,"getDistanceFromTop",function(){return G}),t.d(r,"getNthParent",function(){return H}),t.d(r,"getNthParentFromTop",function(){return Q}),t.d(r,"isSameTopWindow",function(){return V}),t.d(r,"matchDomain",function(){return X}),t.d(r,"stringifyDomainPattern",function(){return Z}),t.d(r,"getDomainFromUrl",function(){return $}),t.d(r,"onCloseWindow",function(){return nn}),t.d(r,"isWindow",function(){return rn}),t.d(r,"isBrowser",function(){return tn}),t.d(r,"isCurrentDomain",function(){return en}),t.d(r,"isMockDomain",function(){return on}),t.d(r,"normalizeMockUrl",function(){return un}),t.d(r,"closeWindow",function(){return cn}),t.d(r,"getFrameForWindow",function(){return fn}),t.d(r,"TYPES",function(){return!0}),t.d(r,"PROTOCOL",function(){return o}),t.d(r,"WILDCARD",function(){return i}),t.d(r,"WINDOW_TYPE",function(){return u})}])});
//# sourceMappingURL=cross-domain-utils.min.js.map